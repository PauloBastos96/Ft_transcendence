<style>
	.page { padding: 20px; }

	.tournament-creation { margin: 60px 180px; }

	h1 {
		color: #555;
		text-align: center;
		font-size: 400%;
		margin-bottom: 80px;
	}

	#chooseOption {
		margin-left: 17%;
		font-size: 22px;
		color: #00000081;
		font-family: monospace;
	}

	#player-buttons {
		padding-left: 15%;
		padding-right: 15%;
		display: flex;
		font-size: 200%;
		font-family: monospace;
		
		button {
			font-weight: bold;
			padding: 8%;
			border: none;
			border-radius: 8%;
			cursor: pointer;
			margin: 3%;
			color: white ;
		}

	}

	.PButton4 {
		&:enabled { background-color: #f59055; }
		&:hover { background-color: #da7236; }
	}

	.PButton8 {
		&:enabled { background-color: #f379df; }
		&:hover { background-color: #e65bce; }
	}

	.PButton16 {
		&:enabled { background-color: #6ed165; }
		&:hover { background-color: #40c234; }
	}
	
	#player-section { display: none; }

	#playerList {
		display: flex-wrap;
		justify-content: center;
	}

	.player-name {
		margin: 8px;
		border: 2px solid;
		border-radius: 10px;
		padding: 6px;
		padding-left: 8px;
		font-weight: 200;
		font-family: monospace;
		color: #e2e2e2;
		font-size: larger;

		&::placeholder { color: #e2e2e2; }
	}

	.button-section {
		margin-top: 100px;
		display: flex;
		justify-content: center;

		button {
			border-width: 0px;
			border-radius: 40px;
			padding: 20px;
			box-shadow: 0 8px 16px 0 rgba(0, 0, 0, 0.3);
			background-color: #979797;
			color: #f1f1f1;
			font-weight: 500;
		}
		.tournament\.back {
			width: 120px;
			margin-right: 20px;
		}
	}


	#createButton { width: 180px; }

	#bracket {
		display: flex;
		flex-direction: row;
		font-size: large;
		padding: 10px;
		justify-content: center;
		margin: auto;
	}

	.round{
		display: flex;
		flex-direction: column;
		justify-content: center;
		width: 200px;
		list-style: none;
		padding: 0;

		.spacer { flex-grow: 1; }
		.spacer:first-child, .spacer:last-child { flex-grow: .5; }
		.match-spacer { flex-grow: 1; }
	}

	li {
		&.match {
			padding-left:20px;
			
			&.winner {
				font-weight: bold;
				background-color: #1ca11c;
				color: white;
			}
			
			&.decided {
				pointer-events: none;
				opacity: 0.6;
			}
		}

		&.spacer {
			min-height: 30px;
		}

		&.player1 {
			border-image: linear-gradient(90deg, #7696ff, #aaa);
			border-image-slice: 1;
			border-bottom: 2px solid;
		}

		&.match-spacer {
			border-right: 2px solid #aaa;
			min-height: 60px;
		}

		&.player2 {
			border-image: linear-gradient(90deg, #ff7e7e, #aaa);
			border-image-slice: 1;
			border-top: 2px solid;
		}

		&.finalist {
			height: 60px;
			align-content: center;
			border-bottom: 2px solid #aaa;
		}

		&.final-winner {
			font-weight: bolder;
			background: linear-gradient(90deg, #983eff, #fe3afe) border-box;
			animation: hue 5s infinite linear;
			color: white;
			border: 5px solid transparent;
		}
	}

	@keyframes hue {
		from { filter: hue-rotate(0deg); }
		to { filter: hue-rotate(360deg); }
	}

	.player1-title {
    min-width: 120px;
    height: 48px;
    font-size: 1rem;
    padding: 0 24px;
    box-sizing: border-box;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    border-radius: 15px;
    font-family: monospace;
    font-weight: bold;
    background: #e03a3a;
    color: #fff;
    margin-left: -20px;
	}
	
	.player2-title {
	min-width: 120px;
    height: 48px;
    font-size: 1rem;
    padding: 0 24px;
    box-sizing: border-box;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    border-radius: 15px;
    font-family: monospace;
    font-weight: bold;
	background: #28a745;
    color: #fff;
    margin: 0;
	}

	#confirmPopup {
		position: fixed;
		top: 50%;
		left: 50%;
		transform: translate(-50%, -50%);
		background: #202020;
		color: white;
		display: none;
	}

	#game { display: none; }

	#countdownBlock {
		position: fixed;
		width: 100%;
		height: 100%;
		display: none;
	}

	#countdown {
		display: block;
		position: fixed;
		top: 50%;
		left: 50%;
		transform: translate(-50%, -50%);
		font-weight: bolder;
		font-size: 200px;
		background-image: linear-gradient(90deg, #868686, #4e4e4e);
		background-clip: text;
		color: transparent;
	}

	#canvasWrapper {
    position: relative;
    display: flex;
    flex-direction: column;
    align-items: center;
	}

	.canvas-buttons {
    position: absolute;
    top: -50px;
    left: 50%;
    transform: translateX(-50%);
    display: flex;
    gap: 1px;
    z-index: 2;
	}

	#gamePlayButton,
	#pauseButton {
	min-width: 120px;
    height: 48px;
    font-size: 1rem;
    padding: 0 24px;
    box-sizing: border-box;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    border-radius: 15px;
    font-family: monospace;
    font-weight: bold;
    background: #355bd8;
    color: #fff;
    margin: 0;
	}

	canvas {
		border: 2px solid black;
		width: 60%;
		height: auto;
	}

	#winnerPopup {
		position: fixed;
		top: 50%;
		left: 50%;
		transform: translate(-50%, -50%);
		background: #6B6B6B;
		color: white;
		padding: 20px;
		border-radius: 10px;
		text-align: center;
		display: none;
		box-shadow: 0px 0px 10px rgba(255, 255, 255, 0.5);
		font-weight: 500;

		button {
			color: #3f3f3f;
			margin: 10px;
			padding: 10px;
			border: none;
			cursor: pointer;
			font-size: 16px;
			border-radius: 15px;
		}
	}

	[data-bs-theme="light"] .player-name {
    	color: #111 !important;
		&::placeholder { color: #111 !important; }
	}

	[data-bs-theme="dark"] {
		h1 {
			color: #ddd;
			text-align: center;
			font-size: 400%;
			margin-bottom: 80px;
		}

		#chooseOption {
			margin-left: 17%;
			font-size: 22px;
			color: #ffffff83;
			font-family: monospace;
		}

		.button-section {
			margin-top: 10%;
			display: flex;
			justify-content: center;

			button {
				border-width: 0px;
				border-radius: 40px;
				padding: 20px;
				box-shadow: 0 8px 16px 0 rgba(0, 0, 0, 0.5);
				background-color: #757575;
				color: #ddd;
			}
		}

		li {
			&.player1 {
				border-image: linear-gradient(90deg, #2e55d6, white);
				border-image-slice: 1;
				border-bottom: 2px solid;
			}
			
			&.match-spacer {
				border-right: 2px solid white;
				min-height: 60px;
			}
			
			&.player2 {
				border-image: linear-gradient(90deg, #d62e2e, white);
				border-image-slice: 1;
				border-top: 2px solid;
			}
			
			&.finalist {
				height: 60px;
				align-content: center;
				border-bottom: 2px solid white;
			}
		}

		#countdown {
			display: block;
			position: fixed;
			top: 50%;
			left: 50%;
			transform: translate(-50%, -50%);
			font-weight: bolder;
			font-size: 200px;
			background-image: linear-gradient(90deg, #dddddd, #868686);
			background-clip: text;
			color: transparent;
		}

		canvas {
			border: 2px solid white;
			width: 60%;
			height: auto;
		}

		#winnerPopup {
			position: fixed;
			top: 50%;
			left: 50%;
			transform: translate(-50%, -50%);
			background: white;
			color: black;
			padding: 20px;
			border-radius: 10px;
			text-align: center;
			display: none;
			box-shadow: 0px 0px 10px rgba(255, 255, 255, 0.5);

			button {
				color: white;
				margin: 10px;
				padding: 10px;
				border: none;
				cursor: pointer;
				font-size: 16px;
				border-radius: 15px;
			}
		}
	}
</style>

<!-- TODO: Translations -->
 <!-- TODO: Handle long names -->
<div class="page">
	<div class="tournament-creation">
		<h1 id="newTournament" data-i18n="tournament.newTournament">New Tournament</h1>
		<div id="option-section">
		<label id="chooseOption" data-i18n="tournament.chooseOption">Choose an option:</label>
			<div id="player-buttons">
				<button class="PButton4" data-i18n="tournament.4Players" onClick="initTournament(4)">4 Players</button>
				<button class="PButton8" data-i18n="tournament.8Players" onClick="initTournament(8)">8 Players</button>
				<button class="PButton16" data-i18n="tournament.16Players" onClick="initTournament(16)">16 Players</button>
			</div>
		</div>
		<div id="player-section">
			<!-- TODO: "There must be a matchmaking system: the tournament system organize the matchmaking of the participants, and announce the next fight." -->
			<div id="playerList"></div>
			<div class="button-section">
				<button class="tournament.back" onclick="goBack()">Back</button>
				<button id="createButton" data-i18n="tournament.createTournament">Create Tournament</button>
			</div>
		</div>
	</div>
	<div id="bracket"> </div>
	<!-- Ignore confirmPopup because it will be replaced by the matchmaking -->
	<div id="confirmPopup">
		<p id="confirmMessage"></p>
		<button id="cancelButton" data-i18n="common.cancel">Cancel</button>
		<button id="playButton" data-i18n="tournament.play">Play</button>
	</div>
	<div id="game">
		<div id="canvasWrapper">
			<div id="player-titles"></div>
			<div class="canvas-buttons">
				<div id="player1-title" class="player1-title">Player 1</div>
				<div style="margin-right: 150px;"></div>
			    <button id="gamePlayButton" class="btn btn-primary me-2 game-button" data-i18n="games.play">Play</button>
			    <button id="pauseButton" class="btn btn-primary game-button" data-i18n="games.pause" type="button">Pause</button>
				<div style="margin-left: 150px;"></div>
				<div id="player2-title" class="player2-title">Player 2</div>
			</div>
			<canvas id="pong" width="1000" height="500"></canvas>
		</div>
		<div id="countdownBlock"><span id="countdown">0</span></div>
		<div id="winnerPopup">
			<p id="winnerMessage"></p>
			<button id="goBracket" data-i18n="common.tournament">Tournament</button>
		</div>
	</div>
</div>
<!-- <div id="countdownBlock"><span id="countdown">0</span></div> -->
<script src="/frontend/scripts/pong_tournament.js"></script>